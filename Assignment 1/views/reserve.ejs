<!--********************************************************************************
 * WEB422 â€“ Assignment 01
 * File: reserve.ejs
 * Name: Julia Alekseev Student ID: 051292134 Date: June 09, 2024
 ********************************************************************************-->
<!DOCTYPE html>
<html lang="en">
  <!-- header -->
  <%- include('partials/head') %>
  <body>
    <!-- nav bar -->
    <%- include('partials/nav') %>

    <!-- ***** body  ***** -->
    <div class="container">
      <div class="page-heading">
        <div class="row">
          <div class="col-lg-8 offset-lg-2 header-text">
            <div class="white">
              <h1>Reserve a book</h1>
              <br />
              <div class="res-form">
                <!-- Error message section -->
                <% if (typeof errorMessage !== 'undefined') { %>
                <div class="alert alert-danger" role="alert">
                  <%= errorMessage %>
                </div>
                <% } %>
                <!-- Form -->
                <form action="/api/transactions/reserve" method="post">
                  <label for="user_id">User ID:</label>
                  <input
                    type="number"
                    id="user_id"
                    name="user_id"
                    required
                  /><br />

                  <label for="book_id">Book:</label>
                  <select name="book_id">
                    <% books.forEach(function(book) { %> <% if (!book.on_loan) {
                    %>
                    <option value="<%= book.book_id %>">
                      <%= book.title %>
                    </option>
                    <% } %> <% }); %></select
                  ><br />

                  <label for="reserve_date">Reserve Date:</label>
                  <input
                    type="date"
                    id="reserve_date"
                    name="reserve_date"
                    required
                  /><br />

                  <button type="submit">Reserve</button>
                </form>
              </div>
              <br />
            </div>
          </div>
        </div>
      </div>
    </div>
    <!-- footer -->
    <div><%- include('partials/navFoot') %></div>
  </body>
</html>
